{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\H00946\\\\workspace\\\\frontendtest\\\\src\\\\components\\\\WatchList.js\";\nimport React, { Component } from \"react\";\nimport \"./WatchList.css\";\nimport WatchMovie from \"./WatchMovie.js\";\nimport MovieBox from \"./MovieBox.js\";\nimport $ from \"jquery\";\n\nvar WatchList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(WatchList, _Component);\n\n  function WatchList(props) {\n    var _this;\n\n    _classCallCheck(this, WatchList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WatchList).call(this, props));\n    _this.state = {\n      watchList: []\n    };\n    _this.displayWatchlist = _this.displayWatchlist.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(WatchList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.displayWatchlist();\n    } //display the movies that are in watchlist\n\n  }, {\n    key: \"displayWatchlist\",\n    value: function displayWatchlist() {\n      var _this2 = this;\n\n      var movieBoxes = [];\n      var watchlist = [];\n      var savedWatchlist = [];\n      savedWatchlist = JSON.parse(localStorage.getItem(\"watchlistWpk\"));\n\n      if (savedWatchlist) {\n        watchlist = savedWatchlist;\n      }\n\n      Array.prototype.forEach.call(watchlist, function (movie) {\n        var movieBox = React.createElement(WatchMovie, {\n          displayWatchlist: _this2.displayWatchlist,\n          key: movie.id,\n          movie: movie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        });\n        movieBoxes.push(movieBox);\n      });\n      this.setState({\n        rows: movieBoxes\n      });\n    } //search movies by input keyword\n\n  }, {\n    key: \"performSearch\",\n    value: function performSearch(searchTerm) {\n      var _this3 = this;\n\n      var urlString = \"https://api.themoviedb.org/3/search/movie?api_key=4ccda7a34189fcea2fc752a6ee339500&query=\" + searchTerm;\n      $.ajax({\n        url: urlString,\n        success: function success(searchResults) {\n          var results = searchResults.results;\n          var movieBoxes = [];\n          results.forEach(function (movie) {\n            if (movie.poster_path !== null) {\n              movie.poster = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path;\n            } else {\n              movie.poster = \"https://www.underconsideration.com/brandnew/archives/google_broken_image_00_b_logo_detail.gif\";\n            }\n\n            var movieBox = React.createElement(MovieBox, {\n              key: movie.id,\n              movie: movie,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 54\n              },\n              __self: this\n            });\n            movieBoxes.push(movieBox);\n          });\n\n          _this3.setState({\n            rows: movieBoxes\n          });\n        },\n        error: function error(xhr, status, err) {\n          console.error(\"Failed to fetch data\");\n        }\n      });\n    }\n  }, {\n    key: \"searchChangeHandler\",\n    value: function searchChangeHandler(event) {\n      var searchTerm = event.target.value;\n\n      if (searchTerm.trim() === \"\") {\n        this.displayWatchlist();\n      } else {\n        this.performSearch(searchTerm);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"watchlist-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"My Watchlist\", React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: \"search-box\",\n        style: {\n          fontSize: 18,\n          display: \"block\",\n          width: \"95%\",\n          marginTop: 30,\n          marginBottom: 20,\n          borderTop: 0,\n          borderLeft: 0,\n          borderRight: 0,\n          borderBottom: \"0.3px solid #8091A5\",\n          marginLeft: \"30px\",\n          backgroundColor: \"#262d40\",\n          color: \"white\"\n        },\n        onChange: this.searchChangeHandler.bind(this),\n        placeholder: \"Search...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          position: \"relative\",\n          height: \"560px\",\n          overflowY: \"scroll\",\n          overflowX: \"hidden\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, this.state.rows));\n    }\n  }]);\n\n  return WatchList;\n}(Component);\n\nexport default WatchList;","map":{"version":3,"sources":["C:\\Users\\H00946\\workspace\\frontendtest\\src\\components\\WatchList.js"],"names":["React","Component","WatchMovie","MovieBox","$","WatchList","props","state","watchList","displayWatchlist","bind","movieBoxes","watchlist","savedWatchlist","JSON","parse","localStorage","getItem","Array","prototype","forEach","call","movie","movieBox","id","push","setState","rows","searchTerm","urlString","ajax","url","success","searchResults","results","poster_path","poster","error","xhr","status","err","console","event","target","value","trim","performSearch","fontSize","display","width","marginTop","marginBottom","borderTop","borderLeft","borderRight","borderBottom","marginLeft","backgroundColor","color","searchChangeHandler","position","height","overflowY","overflowX"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./WatchList.css\";\nimport WatchMovie from \"./WatchMovie.js\";\nimport MovieBox from \"./MovieBox.js\";\nimport $ from \"jquery\";\n\nclass WatchList extends Component {\n\tstate = { watchList: [] };\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.displayWatchlist = this.displayWatchlist.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.displayWatchlist();\n\t}\n\t\n\t//display the movies that are in watchlist\n\tdisplayWatchlist() {\n\t\tvar movieBoxes = [];\n\t\tvar watchlist = [];\n\t\tvar savedWatchlist = [];\n\t\tsavedWatchlist = JSON.parse(localStorage.getItem(\"watchlistWpk\"));\n\t\tif (savedWatchlist) {\n\t\t\twatchlist = savedWatchlist;\n\t\t}\n\t\tArray.prototype.forEach.call(watchlist, movie => {\n\t\t\tconst movieBox = (\n\t\t\t\t\t<WatchMovie\n\t\t\t\t\tdisplayWatchlist={this.displayWatchlist}\n\t\t\t\t\tkey={movie.id}\n\t\t\t\t\tmovie={movie}\n\t\t\t\t\t/>\n\t\t\t);\n\t\t\tmovieBoxes.push(movieBox);\n\t\t});\n\t\tthis.setState({ rows: movieBoxes });\n\t}\n  \n\t//search movies by input keyword\n\tperformSearch(searchTerm) {\n\t\tconst urlString = \"https://api.themoviedb.org/3/search/movie?api_key=4ccda7a34189fcea2fc752a6ee339500&query=\" + searchTerm;\n\n\t\t$.ajax({\n\t\t\turl: urlString,\n\t\t\tsuccess: searchResults => {\n\t\t\t\tconst results = searchResults.results;\n\t\t\t\tvar movieBoxes = [];\n\t\t\t\tresults.forEach(movie => {\n\t\t\t\t\tif (movie.poster_path !== null) {\n\t\t\t\t\t\tmovie.poster = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmovie.poster = \"https://www.underconsideration.com/brandnew/archives/google_broken_image_00_b_logo_detail.gif\";\n\t\t\t\t\t}\n\t\t\t\t\tconst movieBox = <MovieBox key={movie.id} movie={movie} />;\n\t\t\t\t\tmovieBoxes.push(movieBox);\n\t\t\t\t});\n\t\t\t\tthis.setState({ rows: movieBoxes });\n\t\t\t},\n\t\t\terror: (xhr, status, err) => {\n\t\t\t\tconsole.error(\"Failed to fetch data\");\n\t\t\t}\n\t\t});\n\t}\n  \n\tsearchChangeHandler(event) {\n\t\tconst searchTerm = event.target.value;\n\t\tif (searchTerm.trim() === \"\") {\n\t\t\tthis.displayWatchlist();\n\t\t} else {\n\t\t\tthis.performSearch(searchTerm);\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<div className=\"watchlist-title-box\">\n\t\t\t\t\t\tMy Watchlist\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input className=\"search-box\" style={{ fontSize: 18, display: \"block\", width: \"95%\", marginTop: 30, marginBottom: 20, borderTop: 0, borderLeft: 0,\n\t\t\t\t\t\tborderRight: 0, borderBottom: \"0.3px solid #8091A5\", marginLeft: \"30px\", backgroundColor: \"#262d40\", color: \"white\"}}\n\t\t\t\t\t\tonChange={this.searchChangeHandler.bind(this)} placeholder=\"Search...\" />\n\t\t\t\t\t<div style={{ position: \"relative\", height: \"560px\", overflowY: \"scroll\", overflowX: \"hidden\" }}>\n\t\t\t\t\t\t{this.state.rows}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\nexport default WatchList;"]},"metadata":{},"sourceType":"module"}